<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="resources/style.css">
        <link href='https://fonts.googleapis.com/css?family=Nunito' rel='stylesheet'>
        <script src="resources/scripts.js"></script>
    </head>
    <body onload="initialise()">
        <div id="main">
            <div class="header_document" style="background-image: url('resources/general/image_cover.jpg');">
                <img class="logo_warhammer" src="resources/general/logo_warhammer.png"/>
            </div>
            <h1 class="chapter">
                Core rules
            </h1>
            <div id="core_rules">
                <div class="game_structure">
                    <div>
                        <h2 class="section">
                            Term definition
                        </h2>
                        <table class="table_default fullwidth">
                            <tbody>
                                <tr>
                                    <th class="term">
                                        Term
                                    </th>
                                    <th>
                                        Meaning
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        Distance
                                    </td>
                                    <td>
                                        Shortest distance between any base points of two models.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Unit
                                    </td>
                                    <td>
                                        A collection of one or more identical models that act as one entity.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Unit: Visibility
                                    </td>
                                    <td>
                                        A unit is visible when any of the surface points of its models are visible.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Unit: In cover
                                    </td>
                                    <td>
                                        A model is in cover if drawing a line between the base centers of it and the attacking model passes through a cover object, and the attacking model is not within 5 cm of all passed cover objects.
                                        <br/>
                                        A unit is in cover if all its models are in cover.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Unit: Destroy model
                                    </td>
                                    <td>
                                        The controlling player must remove one model from the board space.
                                        <br/>
                                        Whenever a model is destroyed, its unit's health points are fully restored.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Unit: Unit coherency
                                    </td>
                                    <td>
                                        When every model is within 5 cm of another model in the unit.
                                        <br/>
                                        If, at the beginning of any action, unit coherency is not given for any unit, the controlling player must destroy models in that unit until unit coherency is given.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <br/>
                    <br/>
                    <h2 class="section">
                        Preparation
                    </h2>
                    Agree on:
                    <ul>
                        <li>
                            board space (including cover and special zones)
                        </li>
                        <li>
                            a starting player
                        </li>
                        <li>
                            a total army cost limit (example: 1000 points)
                        </li>
                        <li>
                            a game duration limit (number of turns).
                        </li>
                    </ul>
                    Then, every player chooses one faction, and then any number of unit instances of that faction, with a total points cost not exceeding the agreed limit.
                    <br/>
                    <br/>
                    Every unit starts the game in reserves (separate area, not on the board space).
                    <br/>
                    A unit with <b>initiative</b> can be attached to another friendly unit with equal armor and movement profiles, causing its models to be included in that unit, and that unit gaining <b>initiative</b>.
                    <br/>
                    <br/>
                    <h2 class="section">
                        Turns
                    </h2>
                    Every turn, each unit can once sequentially perform 2 different actions, alternating between sides.
                    <br/>
                    If a unit has <b>initiative</b>, the unit may perform its actions before any other units without <b>initiative</b>.
                    <br/>
                    At the end of all turns, a winning player is determined by the points cost of models on the board space.
                </div>
                <div class="turn_structure">
                    <h2 class="section">
                        Actions
                    </h2>
                    <div class="action">
                        <h4>
                            Deploy
                        </h4>
                        <div>
                            This action can only be performed when this unit is in reserves.
                            <br/>
                            This unit may be placed anywhere in the owner's deployment zone.
                        </div>
                    </div>
                    <div class="action">
                        <h4>
                            Setup deepstrike
                        </h4>
                        <div>
                            Can only perform this action if the unit has <b>deepstrike</b>.
                            <br/>
                            May set up a deepstrike token on the board space, where allowed.
                            <br/>
                            When this unit performs the "Deploy" action: May place the unit as close as possible to any placed deepstrike token, and then remove that token.
                        </div>
                    </div>
                    <div class="action">
                        <h4>
                            Move
                        </h4>
                        <div>
                            Every model in the unit may move up to its value x in centimeters.
                            <br/>
                            If the unit does not have <b>fly</b>, models cannot move over enemy models or more than 5cm vertically.
                        </div>
                    </div>
                    <div class="action">
                        <h4>
                            Attack
                        </h4>
                        <div>
                            For every model in the attacking unit:
                            <div class="indented">
                                Select one weapon and one visible enemy unit as "target unit".
                                <br/>
                                End the attack sequence for this model if any of the following are true:
                                <div class="indented">
                                    - The weapon is of range ⛶ and the target unit is not within 20 cm.
                                    <br/>
                                    - The weapon is of range ⚔ and the target unit is not within 5 cm.
                                    <br/>
                                    - The target unit is in cover and has <b>stealth</b>.
                                    <br/>
                                    - There is no visible enemy unit to be selected.
                                </div>
                                <br/>
                                If the target unit was not selected by the previous model in this attack:
                                <div class="indented">
                                    fractional damage = 0.0
                                </div>
                                <br/>
                                If the target unit is in cover:
                                <div class="indented">
                                    Weapon: <b>strength</b> -= 1.
                                </div>
                                If the target unit contains more than 1 model and the weapon has <b>volume</b>:
                                <div class="indented">
                                    Weapon: <b>strength</b> += 1.
                                </div>
                                If the weapon has <b>single</b>:
                                <div class="indented">
                                    This model's attack ends when one model in the target unit is destroyed.
                                </div>
                                <br/>
                                <r>damage</r> = 2^(weapon: <b>strength</b> - target unit: <b><span class="icon">⛊</span>armor</b>) + fractional damage
                                <br/>
                                <br/>
                                If <r>damage</r> < 1:
                                <div class="indented">
                                    If the unit does not have <b>shielded</b>:
                                    <div class="indented">
                                        fractional damage = <r>damage</r>
                                    </div>
                                </div>
                                Else:
                                <div class="indented">
                                    Reduce target unit: <b>health</b> by <r>damage</r> mod 8.
                                    <br/>
                                    If target unit: <b>health</b> &le; 0:
                                    <div class="indented">
                                        Destroy 1 model in the target unit.
                                    </div>
                                    Destroy <r>damage</r> / 8 models in the target unit.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <h1 class="chapter">
                Faction rules
            </h1>
            <div id="div_factions">
                <placeholder id="id_factions" />
            </div>
            <h1 class="chapter">
                Army lists
                <div id="turn_information">
                    turn
                    <span id="turn_counter">0</span>
                    <button class="button_change" onclick="next_turn()">+</button>
                </div>
            </h1>
            <div id="army_lists">
                <placeholder id="id_army_lists"/>
            </div>
        </div>
    </body>
</html>