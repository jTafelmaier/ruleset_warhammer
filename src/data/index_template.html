<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="resources/style.css">
        <link href='https://fonts.googleapis.com/css?family=Nunito' rel='stylesheet'>
        <script src="resources/scripts.js"></script>
    </head>
    <body onload="initialise()">
        <div id="main">
            <div class="header_document" style="background-image: url('resources/general/image_cover.jpg');">
                <img class="logo_warhammer" src="resources/general/logo_warhammer.png"/>
            </div>
            <h1 class="chapter">
                Core rules
            </h1>
            <div id="core_rules">
                <div class="game_structure">
                    <div>
                        <h2 class="section">
                            Term definition
                        </h2>
                        <table class="table_default fullwidth">
                            <tbody>
                                <tr>
                                    <th>
                                        Term
                                    </th>
                                    <th>
                                        Meaning
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        Distance between models
                                    </td>
                                    <td>
                                        Shortest distance between any model surface points of both models.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Destroyed
                                    </td>
                                    <td>
                                        Removed from the board space.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Near
                                    </td>
                                    <td>
                                        Within 5cm.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Visibility
                                    </td>
                                    <td>
                                        A model is visible when any of its surface points is visible.
                                        <br/>
                                        A unit is visible if any of its models are visible.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        In cover
                                    </td>
                                    <td>
                                        Drawing the shortest possible line between the base centers of two units passes through a cover object, and the attacking unit is not near all passed cover objects.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Unit
                                    </td>
                                    <td>
                                        A collection of one or more identical models that act as one entity.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Unit coherency
                                    </td>
                                    <td>
                                        When every model is within 5 cm of another model in the unit.
                                        <br/>
                                        If at the beginning of any action, unit coherency is not given for any friendly unit, destroy models in that unit until unit coherency is given.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <br/>
                    <br/>
                    <h2 class="section">
                        Preparation
                    </h2>
                    Agree on:
                    <ul>
                        <li>
                            board space (including cover and special zones)
                        </li>
                        <li>
                            a starting player & deployment zone allocation
                        </li>
                        <li>
                            a total army cost limit (example: 1000 points)
                        </li>
                        <li>
                            a game duration limit (number of turns).
                        </li>
                    </ul>
                    Then, every player chooses one faction, and then any number of unit instances of that faction, with a total points cost lower than the agreed limit.
                    <br/>
                    <br/>
                    <h2 class="section">
                        Turns
                    </h2>
                    Every unit starts the game in reserves (outside of the board space).
                    <br/>
                    Units with <b>tactics</b> can be attached to another friendly unit with equal armor and movement profiles, except <b>tactics</b>.
                    <br/>
                    As long as that other friendly unit is not destroyed, models in the attached unit are treated as if they are part of that unit.
                    <br/>
                    <br/>
                    Players alternate selecting one of their previously unselected units, starting with the starting player.
                    <br/>
                    When a unit is selected, it can sequentially perform up to 2 different actions.
                    <br/>
                    The turn ends when all units have been selected once.
                    <br/>
                    <br/>
                    <h2 class="section">
                        Game end
                    </h2>
                    A winning player is determined by the points cost of non-destroyed models.
                </div>
                <div class="turn_structure">
                    <h2 class="section">
                        Actions
                    </h2>
                    <div class="action">
                        <h4>
                            Deploy
                        </h4>
                        <div>
                            This action can only be performed when this unit is in reserves.
                            <br/>
                            This unit may be placed anywhere in the owner's deployment zone.
                        </div>
                    </div>
                    <div class="action">
                        <h4>
                            Setup teleportation
                        </h4>
                        <div>
                            Can only perform this action if at least one model in the unit has <b>teleportation</b>.
                            <br/>
                            May set up a teleporter token on the board space, where allowed.
                            <br/>
                            When this unit performs the "Deploy" action: May place the unit as close as possible to any placed teleporter token, and then remove that teleporter token.
                        </div>
                    </div>
                    <div class="action">
                        <h4>
                            Move
                        </h4>
                        <div>
                            Every model in the unit may move up to its value x in centimeters.
                            <br/>
                            If the model does not have <b>fly</b>, it cannot move over enemy models or more than 5cm vertically.
                        </div>
                    </div>
                    <div class="action">
                        <h4>
                            Attack
                        </h4>
                        <div>
                            If no model in the unit has <b>tactics</b>:
                            <div class="indented">
                                Can only perform this action if this is the first action for this unit, this turn.
                            </div>
                            <br/>
                            remaining damage = 0.0
                            <br/>
                            For every model in the attacking unit:
                            <div class="indented">
                                Select one weapon and one visible enemy unit as "target unit".
                                <br/>
                                End the attack sequence for this model if any of the following are true:
                                <div class="indented">
                                    - No target unit can be selected.
                                    <br/>
                                    - The target unit has <b>stealth</b> and is in cover.
                                    <br/>
                                    - The weapon is of range ⛶ and the target unit is not within 20 cm.
                                    <br/>
                                    - The weapon is of range ⚔ and the target unit is not within 5 cm.
                                </div>
                                <br/>
                                If the target unit is not in cover and the weapon is not of range ⚔:
                                <div class="indented">
                                    During this attack, increase the weapon: <b>strength</b> by 1.
                                </div>
                                <br/>
                                Repeat for weapon: <b>hits</b>:
                                <div class="indented">
                                    damage = 2^(weapon: <b>strength</b> - target unit: <b><span class="icon">⛊</span>armor</b>) + remaining damage
                                    <br/>
                                    Reduce unit: health by floor(damage).
                                    <br/>
                                    <br/>
                                    If target unit: <b>health</b> &le; 0:
                                    <div class="indented">
                                        The enemy player must choose to destroy one model in the target unit.
                                        <br/>
                                        Then, the target unit health points are fully restored.
                                    </div>
                                    remaining damage = damage - floor(damage)
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <h1 class="chapter">
                Faction rules
            </h1>
            <div id="div_factions">
                <placeholder id="id_factions" />
            </div>
            <h1 class="chapter">
                Army lists
                <button id="button_next_turn" onclick="next_turn()">next turn</button>
            </h1>
            <div id="army_lists">
                <placeholder id="id_army_lists"/>
            </div>
        </div>
    </body>
</html>