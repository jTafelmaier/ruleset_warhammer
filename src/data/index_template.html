<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="resources/style.css">
        <link href='https://fonts.googleapis.com/css?family=Nunito' rel='stylesheet'>
        <script src="resources/scripts.js"></script>
    </head>
    <body onload="initialise()">
        <div id="main">
            <div class="header_document" style="background-image: url('resources/general/image_cover.jpg');">
                <img class="logo_warhammer" src="resources/general/logo_warhammer.png"/>
            </div>
            <h1 class="chapter">
                Core rules
            </h1>
            <div id="core_rules">
                <div class="game_structure">
                    <div>
                        <h2 class="section">
                            Term definition
                        </h2>
                        <table class="table_default fullwidth">
                            <tbody>
                                <tr>
                                    <th>
                                        Term
                                    </th>
                                    <th>
                                        Meaning
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        Distance
                                    </td>
                                    <td>
                                        Shortest distance between any model surface points of two models.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Destroyed
                                    </td>
                                    <td>
                                        Removed from the board space.
                                        <br/>
                                        Whenever a model is destroyed, its unit's health points are fully restored.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Visibility
                                    </td>
                                    <td>
                                        A model is visible when any of its surface points is visible.
                                        <br/>
                                        A unit is visible if any of its models are visible.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        In cover
                                    </td>
                                    <td>
                                        Drawing a line between the base centers of two models passes through a cover object, and the attacking model is not within 5 cm of all passed cover objects.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Unit
                                    </td>
                                    <td>
                                        A collection of one or more identical models that act as one entity.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Unit coherency
                                    </td>
                                    <td>
                                        When every model is within 5 cm of another model in the unit.
                                        <br/>
                                        If, at the beginning of any action, unit coherency is not given for any unit, the controlling player must destroy models in that unit until unit coherency is given.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <br/>
                    <br/>
                    <h2 class="section">
                        Preparation
                    </h2>
                    Agree on:
                    <ul>
                        <li>
                            board space (including cover and special zones)
                        </li>
                        <li>
                            a starting player & deployment zone allocation
                        </li>
                        <li>
                            a total army cost limit (example: 1000 points)
                        </li>
                        <li>
                            a game duration limit (number of turns).
                        </li>
                    </ul>
                    Then, every player chooses one faction, and then any number of unit instances of that faction, with a total points cost lower than the agreed limit.
                    <br/>
                    <br/>
                    Every unit starts the game in reserves (outside of the board space).
                    <br/>
                    Models with <b>commander</b> can be included in another friendly unit with equal armor and movement values.
                    <br/>
                    <br/>
                    <h2 class="section">
                        Turns
                    </h2>
                    Every turn, each unit can once sequentially perform 2 actions, alternating between sides.
                    <br/>
                    If no model in the unit has <b>commander</b>, the unit may not perform any one action twice per turn.
                    <br/>
                    At the end of all turns, a winning player is determined by the points cost of non-destroyed models.
                </div>
                <div class="turn_structure">
                    <h2 class="section">
                        Actions
                    </h2>
                    <div class="action">
                        <h4>
                            Deploy
                        </h4>
                        <div>
                            This action can only be performed when this unit is in reserves.
                            <br/>
                            This unit may be placed anywhere in the owner's deployment zone.
                        </div>
                    </div>
                    <div class="action">
                        <h4>
                            Setup deepstrike
                        </h4>
                        <div>
                            Can only perform this action if at least one model in the unit has <b>deepstrike</b>.
                            <br/>
                            May set up a deepstrike token on the board space, where allowed.
                            <br/>
                            When this unit performs the "Deploy" action: May place the unit as close as possible to any placed deepstrike token, and then remove that token.
                        </div>
                    </div>
                    <div class="action">
                        <h4>
                            Move
                        </h4>
                        <div>
                            Every model in the unit may move up to its value x in centimeters.
                            <br/>
                            If the model does not have <b>fly</b>, it cannot move over enemy models or more than 5cm vertically.
                        </div>
                    </div>
                    <div class="action">
                        <h4>
                            Attack
                        </h4>
                        <div>
                            remaining damage = 0.0
                            <br/>
                            For every model in the attacking unit:
                            <div class="indented">
                                Select one weapon and one visible enemy unit as "target unit".
                                <br/>
                                End the attack sequence for this model if any of the following are true:
                                <div class="indented">
                                    - No target unit can be selected.
                                    <br/>
                                    - All models in the target unit have <b>stealth</b> and are in cover.
                                    <br/>
                                    - All models in the target unit have <b>agile</b> and the weapon has <b>single</b>.
                                    <br/>
                                    - The weapon is of range ⛶ and the target unit is not within 20 cm.
                                    <br/>
                                    - The weapon is of range ⚔ and the target unit is not within 5 cm.
                                </div>
                                <br/>
                                If the weapon has <b>single</b>:
                                <div class="indented">
                                    This model's attack ends when one model in the target unit is destroyed.
                                </div>
                                If all models in the target unit are in cover:
                                <div class="indented">
                                    During this model's attack, increase the target unit: <b><span class="icon">⛊</span>armor</b> by 1.
                                </div>
                                If all models in the target unit have <b>armored</b> and the weapon has <b>volume</b>:
                                <div class="indented">
                                    During this model's attack, increase the target unit: <b><span class="icon">⛊</span>armor</b> by 1.
                                </div>
                                <br/>
                                <r>damage</r> = 2^(weapon: <b>strength</b> - target unit: <b><span class="icon">⛊</span>armor</b>) + remaining damage
                                <br/>
                                <br/>
                                If the weapon has <b>volume</b>:
                                <div class="indented">
                                    <r>damage</r> = <r>damage</r> * (number of models in the target unit).
                                </div>
                                <br/>
                                If <r>damage</r> >= 8:
                                <div class="indented">
                                    The enemy player must select to destroy <r>damage</r> / 8 models in the target unit.
                                </div>
                                If 8 > <r>damage</r> >= 1:
                                <div class="indented">
                                    Reduce unit: health by <r>damage</r>.
                                    <br/>
                                    If target unit: <b>health</b> &le; 0:
                                    <div class="indented">
                                        The enemy player must choose to destroy one model in the target unit.
                                    </div>
                                </div>
                                If <r>damage</r> < 1:
                                <div class="indented">
                                    remaining damage = remaining damage + <r>damage</r>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <h1 class="chapter">
                Faction rules
            </h1>
            <div id="div_factions">
                <placeholder id="id_factions" />
            </div>
            <h1 class="chapter">
                Army lists
                <button id="button_next_turn" onclick="next_turn()">next turn</button>
            </h1>
            <div id="army_lists">
                <placeholder id="id_army_lists"/>
            </div>
        </div>
    </body>
</html>